@{
    ViewData["Title"] = "Edit Product";

    var varProduct = ViewBag.product;
    var varlistStatus = ViewBag.listStatus;
    var varListRank = ViewBag.listRank;
    var varListImage = ViewBag.listImage;

    Lienminh product = (Lienminh)varProduct;
    List<Status> statusList = (List<Status>)varlistStatus;
    List<string> listRank = (List<string>)varListRank;
    List<Image> listImage = (List<Image>)varListImage;

}

<div class="container-fluid pt-4 px-4">

    <form asp-action="EditProductSolve" asp-controller="Admin" enctype="multipart/form-data">
        <div class="row g-4">

            <div class="col-sm-12 col-xl-6">
                <div class="bg-secondary rounded h-100 p-4">
                    <h6 class="mb-4">Edit Category: #@product.Id</h6>
                    <input type="hidden" name="id" value="@product.Id">

                    @if (TempData["err"] != null || TempData["success"] != null)
                    {
                        <div class="mb-2">
                            <text class="text-danger">@TempData["err-add"]</text>
                            @if (TempData["err"] != null && TempData["success"] != null)
                            {
                                <br>
                            }
                            <text class="text-success">@TempData["success"]</text>
                        </div>
                    }
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="floatingInput" placeholder="name" name="name"
                            >
                        <label for="floatingInput">Name</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="ProductUserName" placeholder="ProductUserName"
                            name="ProductUserName" >
                        <label for="ProductUserName">Product UserName</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="ProductPassword" placeholder="ProductPassword"
                            name="ProductPassword" >
                        <label for="ProductPassword">Product Password</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="PriceAtm" placeholder="PriceAtm" name="PriceAtm"
                            >
                        <label for="Publisher">Price Atm</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="Publisher" placeholder="Publisher" name="Publisher"
                            >
                        <label for="Publisher">Publisher</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="Champ" placeholder="Champ" name="Champ">
                        <label for="Champ">Champ</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="number" class="form-control" id="Skin" placeholder="Skin" name="Skin">
                        <label for="Skin">Skin</label>
                    </div>
                    <div class="form-floating mb-3">
                        <select class="form-select" id="floatingSelect" aria-label="Floating label select example"
                            name="Rank" >
                            <option selected>Select rank</option>

                            @foreach(var item in listRank)
                            {
                                <option value="@item">@item</option>
                            }
                            
                        </select>
                        <label for="floatingSelect">Select rank</label>
                    </div>
                    <div class="form-floating mb-3">
                        <input type="text" class="form-control" id="StatusAccount" placeholder="StatusAccount"
                            name="StatusAccount" >
                        <label for="StatusAccount">StatusAccount</label>
                    </div>
                    <div class="form-floating mb-3">
                        <select class="form-select" id="floatingSelectStatus" aria-label="Floating label select example"
                            name="Status" >
                            <option selected>Select status</option>
                            @{
                                foreach (var st in statusList)
                                {
                                    <option value="@st.StatusId">@st.StatusNameEn</option>
                                }
                            }
                        </select>
                        <label for="floatingSelectStatus">Select status</label>
                    </div>

                    @* <div class="form-floating">
                        <input type="text" class="form-control" id="floatingPassword" placeholder="Note" name="Note">
                        <label for="floatingPassword">Note</label>
                        </div> *@

                    <div class="form-floating">
                        <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea"
                            style="height: 150px;" placeholder="Note" name="Note"></textarea>
                        <label for="floatingTextarea">Note</label>
                    </div>
                </div>
            </div>

            <div class="col-sm-12 col-xl-6">
                @* <div class="bg-secondary rounded p-4 h-auto mb-3">
                    <div class="mb-3">

                    <h6 class="mb-4">Image sale off</h6>
                    <div class="d-flex align-items-center justify-content-center my-3">
                    <label for="img-sale-off" class="me-5">Current Image:</label>
                    <img src="@product.ImgSaleOff" id="img-sale-off" alt="img-sale-off"
                    style="height: 100%; max-height: 350px; max-width: 450px; border: 1px solid white;">
                    </div>

                    <div>
                    <input class="form-control form-control-sm bg-dark" id="formFileSm" type="file" name="ImgSaleOff"
                    accept="image/*">
                    </div>
                    </div>
                    </div> *@

                <div class="bg-secondary rounded p-4 h-auto mb-3">

                    <div class="mb-3">
                        <h6 class="mb-4">Img Thumbnail:</h6>
                        <div class="d-flex align-items-center mb-3">
                            <label for="img-src" class="me-5">Current Image:</label>

                            <img src="@product.ImgThumb" id="img-src" alt="img-thumb"
                                style="height: 100%; max-height: 350px; max-width: 450px; border: 1px solid white;">
                        </div>

                        <div>
                            <input class="form-control form-control-sm bg-dark" id="formFileSm2" type="file"
                                name="ImgThumb" accept="image/*">
                        </div>

                    </div>
                    <hr>
                    <div class="row">
                        <h6 class="mb-4">Image:</h6>
                        @foreach (var item in listImage)
                        {
                            <div class="col-sm-12 col-xl-6 mb-2">
                                <img class="w-100 border border-light" src="@item.ImgLink" alt="@product.ProductUserName">
                            </div>
                        }

                        <div class="mt-3">
                            <input class="form-control form-control-sm bg-dark" id="formFileSm3" type="file"
                                name="ListImg" accept="image/*" multiple>
                        </div>
                    </div>

                    <div class="d-flex justify-content-end">
                        <button type="submit" class="btn btn-outline-success m-2">Save Change</button>
                    </div>
                </div>
            </div>
        </div>

    </form>

    @* <div class="row mt-3">
        <div class="col-sm-12 col-xl-6">
        <div class="bg-secondary rounded h-100 p-4">
        <h6 class="mb-4">#@cate.Id - @cate.Name</h6>
        <dl class="row mb-0">
        <dt class="col-sm-4">Id</dt>
        <dd class="col-sm-8">@cate.Id</dd>

        <dt class="col-sm-4">Name</dt>
        <dd class="col-sm-8">@cate.Name</dd>

        <dt class="col-sm-4">Title</dt>
        <dd class="col-sm-8">@cate.Title</dd>

        <dt class="col-sm-4">Action</dt>
        <dd class="col-sm-8">@cate.Action</dd>

        <dt class="col-sm-4">Img Sale Off</dt>
        <dd class="col-sm-8">@cate.ImgSaleOff</dd>

        <dt class="col-sm-4">Img Scr</dt>
        <dd class="col-sm-8">@cate.ImgSrc</dd>

        <dt class="col-sm-4">Total</dt>
        <dd class="col-sm-8">@cate.Total</dd>

        <dt class="col-sm-4">Note</dt>
        <dd class="col-sm-8">@cate.Note</dd>
        </dl>
        </div>
        </div>

        <div class="col-sm-12 col-md-6">
        <div class="h-100 bg-secondary rounded p-4">
        <div class="d-flex align-items-center justify-content-between mb-4">
        <h6 class="mb-0">Calender</h6>
        <a href="">Show All</a>
        </div>
        <div id="calender"></div>
        </div>
        </div>
        </div> *@
</div>